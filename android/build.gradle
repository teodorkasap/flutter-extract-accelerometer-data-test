buildscript {
    ext.kotlin_version = '2.2.0' // Change this from 1.9.0
    repositories {
        google()
        mavenCentral()
    }
}

// 1. THIS MUST BE AT THE VERY TOP
plugins {
    id "com.android.application" apply false
    id "org.jetbrains.kotlin.android" apply false // REMOVE 'version' here
    id "dev.flutter.flutter-gradle-plugin" apply false
}

// 2. Everything else (allprojects, rootProject, etc.) comes AFTER
allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.buildDir = '../build'
subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"
}
subprojects {
    project.evaluationDependsOn(':app')
}

tasks.register("clean", Delete) {
    delete rootProject.buildDir
}